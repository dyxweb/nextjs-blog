## [性能指标](https://juejin.cn/post/6850037270729359367)
### 性能检测网站
- [https://gtmetrix.com/](https://gtmetrix.com/)
- [https://www.debugbear.com/test](https://www.debugbear.com/test)
- [https://www.webpagetest.org](https://www.webpagetest.org)
### First Paint(FP) 首次绘制
> 首次渲染的时间点，可以视为白屏时间，比如完成背景色渲染的时间点。通常作为时间点最早的一个性能指标。

### First Contentful Paint(FCP) 首次内容绘制
> 首次有内容渲染的时间点，指标测量页面从开始加载到页面内容的任何部分在屏幕上完成渲染的时间。对于该指标，"内容"指的是文本、图像、`<svg>`元素或非白色的`<canvas>`元素，可以作为首屏时间。

### Largest Contentful Paint(LCP) 最大内容绘制
> 页面的最大内容（通常是比较核心的内容）加载完成的时间，这个最大内容可以是图片/文本块。它是一个SEO相关的指标。LCP其实能比前两个指标更能体现一个页面的性能好坏程度，当页面出现骨架屏或者Loading动画时FCP其实已经被记录下来了，但是此时用户希望看到的内容其实并未呈现，我们更想知道的是页面主要的内容是何时呈现出来的。

### Time to Interactive(TTI) 可交互时间
> Long Task：如果浏览器JS引擎线程执行的一个task耗时大于50ms，那么这个task称为long task。GUI渲染线程与JS引擎线程是互斥的，所以当发生Long Task时，用户的交互操作很可能无法及时执行，这时用户就会体验到卡顿（当页面响应时间超过100ms时，用户可以体验到卡顿），进而影响用户体验。从页面加载开始到页面处于完全可交互状态所花费的时间。通常是发生在页面依赖的资源已经加载完成，此时浏览器可以快速响应用户交互的时间。

**满足条件**
- 从FCP指标后开始计算
- 持续5秒内无长任务（执行时间超过50ms）且无两个以上正在进行中的GET请求
- 往前回溯至5秒前的最后一个长任务结束的时间
### First Input Delay(FID) 首次输入延迟
> 记录在FCP和TTI之间用户首次与页面交互时响应的延迟。这个指标的触发是在用户第一次与页面交互的的时候，记录的是是用户第一次与页面交互到浏览器真正能够开始处理事件处理程序以响应该交互的时间，即交互延迟时间。比如发生在用户第一次在页面进行click，keydown等交互。发生输入延迟是因为浏览器的主线程正忙着执行其它工作（比如解析和执行大型JS文件），还不能响应用户。

### Cumulative Layout Shift(CLS) 累积布局偏移
> 在一个页面的生命周期中，会不断的发生布局变化（layout shift），对每一次布局变化做一个累积的记分，其中得分最大布局变化即为CLS。是衡量页面稳定性的重要指标（visual stability）。

### Total Blocking Time(TBT) 阻塞总时间
> 记录在FCP到TTI之间所有长任务的阻塞时间总和。

### First Meaningful Paint(FMP) 首次有效绘制
> 首次绘制有意义内容的时间。业界比较认可的方式是在加载和渲染过程中最大布局变动之后的那个绘制时间即为当前页面的FMP。因为它计算相对复杂，且存在准确性等问题，Lighthouse 6.0中被废弃。更多的使用LCP指标。

### Core Web Vitals
> Google提出的衡量网站用户体验的核心数据指标，涵盖了页面的加载速度、可交互性和稳定性。是近期生效的会影响SEO的重要指标，包含一下三项：LCP、FID、CLS。

### DOMContentLoaded(DCL)
> DOM加载完成即触发，不用等页面资源加载。

### Load(L)
> 页面及其依赖的资源全部加载完成的时间，包括所有的资源文件，如样式表和图片等。

### FP vs FCP
> 可以把这两个指标认为是和白屏时间相关的指标。

- FP：从开始加载到第一次渲染，FCP：从开始加载到第一次内容渲染。
- FCP是FP的增强版，对用户来说更关键。因为FCP带着图像和文字这些内容信息，是用户更关心的。
- FP时间小于等于FCP。
### LCP vs FCP
- FCP：页面加载过程中，比较早期的一个指标，如果一个页面有loading态，这个指标表现可能很好，但是实际内容什么时候呈现给用户，这个指标没办法衡量。
- LCP：关注页面核心内容呈现时间，这个内容是用户更感兴趣的，更加和用户相关。